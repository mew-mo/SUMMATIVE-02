!function(){var e={hotel:{name:"Novotel Queenstown Lakeside",coordinates:[168.66260642950354,-45.03336634266233],minPeople:1,maxPeople:2,pricePerNight:157,minNights:1,maxNights:5,info:"Centrally located on the shores of Lake Wakatipu, treat yourself to 4-star tranquility at Novotel Queenstown Lakeside Hotel. Start your day fresh with a breath of mountain air from your hotel room balcony and a delicious buffet breakfast in the airy restaurant. Your hotel room will be waiting for you after a long day of soaking up Queenstown's natural beauty.",nearAttractions:["Local Golf Course","Coronet Peak Ski  Resort","Lake Wakatipu","Skyline Luge"]},hostel:{name:"Haka Lodge Queenstown",coordinates:[168.66277322589283,-45.030134427348074],minPeople:1,maxPeople:1,pricePerNight:30,minNights:1,maxNights:10,info:"You are invited to stay at our upmarket backpackers in Queenstown; Haka Lodge! Opened just a few years ago, close to the city centre and kitted out with top of the line facilities, this lodge is an absolute stunner. We offer accommodation suitable for everybody from luxury bunk beds to private rooms. We believe in offering affordable accommodation that is premium and up-scale. Come and see why we have been awarded a TripAdvisor 2019 Certificate of Excellence.",nearAttractions:["Lake Wakatipu","Fergburger","Shotover / Camp St intersection","Skyline Luge"]},motel:{name:"Manata Lodge",coordinates:[168.7565615118034,-44.99238458104406],minPeople:2,maxPeople:4,pricePerNight:90,minNights:3,maxNights:10,info:"Manata Homestead & Lodge is nestled in the heart of Wakatipu Basin with stunning views of Coronet Peak and the Remarkables. Our beautiful property contains a large 4-bedroom house and 4 self-contained apartments. Manata is perfect for groups of families or friends, small weddings, after wedding BBQ’s, family celebrations, ski teams, hiking groups, golfers, family reunions and tour groups.",nearAttractions:["Shotover River","The Remarkables Ski Area","Five Mile Shopping Centre","Coronet Peak Ski Area"]},house:{name:"Shotover Country Cottages",coordinates:[168.77857503612444,-45.00940820579655],minPeople:1,maxPeople:4,pricePerNight:240,minNights:2,maxNights:15,info:"Shotover Country Cottages are a fantastic base to explore Queenstown and surroundings. Shotover Country Cottages provide boutique accommodation conveniently located between Queenstown and Arrowtown, NZ. Fully self-contained, the cottages are perfect for a weekend away or a longer stay.",nearAttractions:["The Queenstown Trail","The Remarkables and Coronet Peak Ski Areas","Shotover and Kawarau Rivers","Onsen Hot Pools","Lake Hayes"]},hotelTwo:{name:"Nugget Point Queenstown Hotel",coordinates:[168.68462613895989,-44.98008714506038],minPeople:1,maxPeople:4,pricePerNight:139,minNights:1,maxNights:15,info:"Nugget Point, a THC Group Hotel, is located in Arthur's Point, New Zealand. The closest hotel to the stunning Coronet Peak Ski Area, within easy reach of central Queenstown, this property will allow you to experience this destination in a unique and unforgettable way. Our secluded location offers you peace and tranquility to relax during your stay, while also allowing you to enjoy the buzz of central Queenstown – just a 7 minute drive away.",nearAttractions:["Coronet Peak Ski Area","Shotover River","Onsen Hot Pools","Arthur's Point Gorge Scenic Reserve"]}},t=20,o=20,n=25,a=0,c={start:!0,people:!1,checkIn:!1,checkOut:!1,stayLength:!1,place:!1,price:!1,meals:!1,total:!1},l={startBtn:document.querySelector(".go-btn"),nextBtn:document.querySelector(".next i"),backBtn:document.querySelector(".back i"),slides:document.querySelectorAll(".full-screen"),currentScreen:0,needsFill:!1,peopleScreen:document.querySelector("#peopleSelect"),oneBtn:document.querySelector(".one-btn"),twoBtn:document.querySelector(".two-btn"),threeBtn:document.querySelector(".three-btn"),fourBtn:document.querySelector(".four-btn"),maxPeople:document.querySelector(".max-people"),pplFeedback:document.querySelector(".people-feedback"),calendar:!1,maxDays:document.querySelector(".max-days"),dateFeedback:document.querySelector(".date-feedback"),placeScreen:document.querySelector("#placeSelect"),availableTo:document.querySelector(".user-people"),map:!1,accSelect:document.querySelector("#accommodation"),hotelOpt:document.createElement("option"),hostelOpt:document.createElement("option"),motelOpt:document.createElement("option"),houseOpt:document.createElement("option"),hotelTwoOpt:document.createElement("option"),allMarkers:[],accNames:[],options:[],price:document.querySelector(".price"),locationInfo:document.querySelector(".location-info"),attractionList:document.querySelector(".attractions"),breakfastCheck:document.querySelector("#breakfast"),breakfastLabel:document.querySelector(".breakfast label"),lunchCheck:document.querySelector("#lunch"),lunchLabel:document.querySelector(".lunch label"),dinnerCheck:document.querySelector("#dinner"),dinnerLabel:document.querySelector(".dinner label"),noMealsCheck:document.querySelector("#noMeals"),noMealsLabel:document.querySelector(".no-meals label"),showPrices:!1,mealPrices:[t,o,n,a],checkClicks:0,init:function(){$(".screens").slick({accessibility:!1,arrows:!1,draggable:!1,swipe:!1,touchMove:!1,infinite:!1,speed:300,autoplay:!1,slidesToShow:1,slidesToScroll:1}),$(function(){$("#datepicker").datepicker()}),mapboxgl.accessToken="pk.eyJ1IjoibWV3LW1vIiwiYSI6ImNrcDRvZGlvczA0bHQyb3J2czczaXk0cTUifQ.OFSA4kWW4IMpTG6MTy6TPQ";var e=new mapboxgl.Map({container:"map",zoom:11,center:[168.70906691642736,-45.018670516814126],pitch:0,style:"mapbox://styles/mew-mo/ckpui5rhp1gcl17p6rzvoqbbw"});l.map=e,$(l.backBtn).off().on("click",function(){l.back()}),l.checkScreen()},next:function(e){e?(l.currentScreen+=1,console.log(l.currentScreen+" is the current screen"),l.nextBtn.style.display="block",l.backBtn.style.display="block",$(".screens").slick("slickNext"),console.log(e)):(alert("Please select "+l.needsFill+" first."),console.log(e)),l.checkScreen()},back:function(){l.currentScreen-=1,console.log(l.currentScreen+" is the current screen"),l.nextBtn.style.display="block",l.backBtn.style.display="block",l.checkScreen(),$(".screens").slick("slickPrev")},checkScreen:function(){0===l.currentScreen?l.welcome():1===l.currentScreen?l.peopleBooking():2===l.currentScreen?l.dateBooking():3===l.currentScreen?l.placeBooking():4===l.currentScreen?l.mealBooking():5===l.currentScreen?l.reviewBooking():6===l.currentScreen&&l.confirm()},welcome:function(){l.nextBtn.style.display="none",l.backBtn.style.display="none",$(l.startBtn).off().on("click",function(){l.next(c.start)})},peopleBooking:function(){l.needsFill="the number of people you are booking for",l.maxPeople.innerHTML=e.house.maxPeople,$(l.nextBtn).off().on("click",function(){l.next(c.people)}),l.peopleScreen.addEventListener("click",function(e){e.target===l.oneBtn?(l.setNum(1),l.oneBtn.classList.add("one-clicked")):l.oneBtn.classList.remove("one-clicked"),e.target===l.twoBtn?(l.setNum(2),l.twoBtn.classList.add("two-clicked")):l.twoBtn.classList.remove("two-clicked"),e.target===l.threeBtn?(l.setNum(3),l.threeBtn.classList.add("three-clicked")):l.threeBtn.classList.remove("three-clicked"),e.target===l.fourBtn?(l.setNum(4),l.fourBtn.classList.add("four-clicked")):l.fourBtn.classList.remove("four-clicked")},!1)},setNum:function(e){c.people=e,l.pplFeedback.innerHTML=1===e?"Booking for "+e+" person":"Booking for "+e+" people"},dateBooking:function(){l.needsFill="your check-in and check-out dates",l.maxDays.innerHTML=e.house.maxNights,l.calendar=$("#datePicker").daterangepicker({maxSpan:{days:14},autoApply:!1,minDate:moment(),alwaysShowCalendars:!0,drops:"left",opens:"center"},function(e,t,o){var n=new Date(e.format("MM/DD/YYYY")),a=new Date(t.format("MM/DD/YYYY")).getTime()-n.getTime();c.checkIn=e.format("DD-MM-YY"),c.checkOut=t.format("DD-MM-YY"),c.stayLength=a/864e5+1,1===c.stayLength?l.dateFeedback.innerHTML="Booking for "+c.stayLength+" night - For "+c.checkIn:l.dateFeedback.innerHTML="Booking for "+c.stayLength+" nights - From "+c.checkIn+" to "+c.checkOut}),$(l.nextBtn).off().on("click",function(){l.next(c.stayLength)})},placeBooking:function(){var t=(new mapboxgl.Marker).setLngLat(e.hotel.coordinates),o=(new mapboxgl.Marker).setLngLat(e.hostel.coordinates),n=(new mapboxgl.Marker).setLngLat(e.motel.coordinates),a=(new mapboxgl.Marker).setLngLat(e.house.coordinates),r=(new mapboxgl.Marker).setLngLat(e.hotelTwo.coordinates);l.needsFill="your accommodation",1===c.people&&1===c.stayLength?l.availableTo.innerHTML=c.people+" person for "+c.stayLength+" night":1===c.people&&c.stayLength>1?l.availableTo.innerHTML=c.people+" person for "+c.stayLength+" nights":c.people>1&&1===c.stayLength?l.availableTo.innerHTML=c.people+" people for "+c.stayLength+" night":l.availableTo.innerHTML=c.people+" people for "+c.stayLength+" nights",c.people>=e.hotel.minPeople&&c.people<=e.hotel.maxPeople&&c.stayLength>=e.hotel.minNights&&c.stayLength<=e.hotel.maxNights&&(t.addTo(l.map),l.allMarkers.push(t),l.hotelOpt.innerHTML=e.hotel.name,l.accNames.push("hotel"),l.accSelect.appendChild(l.hotelOpt),l.options.push(l.hotelOpt)),c.people>=e.hostel.minPeople&&c.people<=e.hostel.maxPeople&&c.stayLength>=e.hostel.minNights&&c.stayLength<=e.hostel.maxNights&&(o.addTo(l.map),l.allMarkers.push(o),l.hostelOpt.innerHTML=e.hostel.name,l.accNames.push("hostel"),l.accSelect.appendChild(l.hostelOpt),l.options.push(l.hostelOpt)),c.people>=e.motel.minPeople&&c.people<=e.motel.maxPeople&&c.stayLength>=e.motel.minNights&&c.stayLength<=e.motel.maxNights&&(n.addTo(l.map),l.allMarkers.push(n),l.motelOpt.innerHTML=e.motel.name,l.accNames.push("motel"),l.accSelect.appendChild(l.motelOpt),l.options.push(l.motelOpt)),c.people>=e.house.minPeople&&c.people<=e.house.maxPeople&&c.stayLength>=e.house.minNights&&c.stayLength<=e.house.maxNights&&(a.addTo(l.map),l.allMarkers.push(a),l.houseOpt.innerHTML=e.house.name,l.accNames.push("house"),l.accSelect.appendChild(l.houseOpt),l.options.push(l.houseOpt)),c.people>=e.hotelTwo.minPeople&&c.people<=e.hotelTwo.maxPeople&&c.stayLength>=e.hotelTwo.minNights&&c.stayLength<=e.hotelTwo.maxNights&&(r.addTo(l.map),l.allMarkers.push(r),l.hotelTwoOpt.innerHTML=e.hotelTwo.name,l.accNames.push("hotelTwo"),l.accSelect.appendChild(l.hotelTwoOpt),l.options.push(l.hotelTwoOpt)),l.accSelect.addEventListener("change",function(){for(var t=l.accSelect.selectedIndex-1;l.attractionList.firstChild;)l.attractionList.removeChild(l.attractionList.lastChild);if(l.options[t].label===e[l.accNames[t]].name){c.place=l.options[t].label,c.price=e[l.accNames[t]].pricePerNight,l.price.innerHTML="$"+e[l.accNames[t]].pricePerNight+" per night",l.locationInfo.innerHTML=e[l.accNames[t]].info,l.map.flyTo({center:e[l.accNames[t]].coordinates,zoom:15,essential:!0});for(var o=0;o<e[l.accNames[t]].nearAttractions.length;o++){var n=document.createElement("li");n.innerHTML=e[l.accNames[t]].nearAttractions[o],l.attractionList.appendChild(n)}}},!1),$(l.nextBtn).off().on("click",function(){l.next(c.place)}),$(l.backBtn).off().on("click",function(){l.back(),l.placeReset()})},placeReset:function(){for(;3===l.currentScreen;){l.resetMarkers(),l.accNames.length=0;for(var e=0;e<l.options.length;e++)l.options[e].remove()}},resetMarkers:function(){for(var e=l.allMarkers.length-1;e>=0;e--)l.allMarkers[e].remove()},mealBooking:function(){l.needsFill="the meal options you want",l.showPrices||(l.showPrices=!0,l.breakfastLabel.innerHTML+=" - $"+t,l.lunchLabel.innerHTML+=" - $"+o,l.dinnerLabel.innerHTML+=" - $"+n),l.addListeners(),$(l.nextBtn).off().on("click",function(){l.next(c.meals)}),$(l.backBtn).off().on("click",function(){l.back()})},addListeners:function(){l.breakfastCheck.addEventListener("click",function(){l.breakfastCheck.classList.toggle("clicked-box"),l.checkItems(l.mealPrices)},!1),l.lunchCheck.addEventListener("click",function(){l.lunchCheck.classList.toggle("clicked-box"),l.checkItems(l.mealPrices)},!1),l.dinnerCheck.addEventListener("click",function(){l.dinnerCheck.classList.toggle("clicked-box"),l.checkItems(l.mealPrices)},!1),l.noMealsCheck.addEventListener("click",function(){l.noMealsCheck.classList.toggle("clicked-box"),l.checkItems(l.mealPrices)},!1)},checkItems:function(e){c.total=c.price,l.breakfastCheck.classList.contains("clicked-box")&&(c.total=c.total+e[0],c.meals=!0),l.lunchCheck.classList.contains("clicked-box")&&(c.total=c.total+e[1],c.meals=!0),l.dinnerCheck.classList.contains("clicked-box")&&(c.total=c.total+e[2],c.meals=!0),l.noMealsCheck.classList.contains("clicked-box")&&(c.total=c.total+e[3],c.meals=!0,console.log(c.meals)),l.dinnerCheck.classList.contains("clicked-box")||l.lunchCheck.classList.contains("clicked-box")||l.breakfastCheck.classList.contains("clicked-box")||l.noMealsCheck.classList.contains("clicked-box")||(console.log("all unchecked"),c.meals=!1),console.log(c.total)},reviewBooking:function(){$(l.backBtn).off().on("click",function(){l.back()})},confirm:function(){l.nextBtn.style.display="none",$(l.backBtn).off().on("click",function(){l.back()})}};l.init()}();